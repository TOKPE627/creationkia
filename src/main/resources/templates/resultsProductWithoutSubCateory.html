<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1000/xhtml">
<head th:replace="include/head"></head>

<link rel="stylesheet" th:href="@{/assets/css/styleWelcome.css}">
<style type="text/css">
  @media screen and (min-width:1025px) {
	  .changeImage{
		  margin-left: 2.7rem !important;
	  }
	  .changeImage > img{
		object-fit: cover !important;
		width: 24.5rem !important;
		height:19rem !important;
	  }
  }
</style>
<body style="background-color: #e8e8e8;">	
    <!--header-->
   <div th:replace="include/navbar"></div>
   <div th:replace="include/headerMenu"></div>

	<div class="row" style="margin-top: 2rem;">
		<div class="col-xs-12" >
			<div class="product-details-thumb changeImage">
				
				<img th:if="${product.category.title == 'groupSale'}" 
				class="img-responsive"   id="image1"
				  th:src="@{${awsBucketGroupSale}+${product.galery.id}+'/'+${product.galery.image1}}" alt=""  
			  />
			 <img th:if="${product.category.title =='store'}" 
				class="img-responsive" id="image1"
				  th:src="@{${awsBucketProduct}+${product.galery.id}+'/'+${product.galery.image1}}" alt=""  
			  /> 
			</div>
		
		  <div class="row" style="margin-left: 2.5rem;">
			  <ul class="nav nav-tabs products-nav-tabs horizontal quick-view mt-10">
				  <li>
					<a href="#">
					
						<img th:if="${product.category.title == 'groupSale'}" 
						class="img-responsive"  style="object-fit: cover;"
						  th:src="@{${awsBucketGroupSale}+${product.galery.id}+'/'+${product.galery.image2}}" alt=""  
						  onClick="changeImage(this)"
					  />
					 <img th:if="${product.category.title =='store'}"
						class="img-responsive"  style="object-fit: cover;"
						  th:src="@{${awsBucketProduct}+${product.galery.id}+'/'+${product.galery.image2}}" alt=""  
						  onClick="changeImage(this)"
					  /> 
					  </a>
				  </li>
				  <li>
					<a href="#">
					
					
						<img th:if="${product.category.title == 'groupSale'}"
						class="img-responsive"  style="object-fit: cover;"
						  th:src="@{${awsBucketGroupSale}+${product.galery.id}+'/'+${product.galery.image3}}" alt=""  
						  onClick="changeImage(this)"
						  />
					 <img th:if="${product.category.title =='store'}"
						class="img-responsive"  style="object-fit: cover;"
						  th:src="@{${awsBucketProduct}+${product.galery.id}+'/'+${product.galery.image3}}" alt=""  
						  onClick="changeImage(this)"
						  /> 
					  </a>
				  </li>
				  <li>
					<a href="#">
					
					
						<img th:if="${product.category.title == 'groupSale'}" 
						class="img-responsive"  style="object-fit: cover;"
						  th:src="@{${awsBucketGroupSale}+${product.galery.id}+'/'+${product.galery.image4}}" alt=""  
						  onClick="changeImage(this)"
						  />
					 <img th:if="${product.category.title =='store'}" 
						class="img-responsive"  style="object-fit: cover;"
						  th:src="@{${awsBucketProduct}+${product.galery.id}+'/'+${product.galery.image4}}" alt=""  
						  onClick="changeImage(this)"
						  /> 
					  </a>
				  </li>
			  </ul>
		  </div>
		</div>
		<div class="col-xs-12" style="width: 37.8rem;">
			<div class="product-details-desc" style="text-align: center;">
				<h2 th:text="${product.name}"></h2>
				 <ul th:text="${product.detail}">
					<li></li>
				 </ul>
				 <div class="product-meta">
					 <ul class="list-none">
						<li>Categorie:
							 <a href="#" th:text="${product.category.name}"></a>
						</li>
					
					
				 </div> 
	
				 <div class="social-icons style-5" style="cursor: pointer;">
				   <span>Compagnie:</span>
					   <span>
					   <img
						  th:src="@{${awsBucketIcon}+'logo.png'}" style="object-fit: cover;"
						width="30%;" alt=""  onClick="companyImage(this)">
				   </span>                                        
				 </div> 
			 </div>
		</div>
		<div class="col-xs-12" style="width: 14rem; ">
			<div class="product-action stuck text-center">
				<div class="home-delivery">
					<a  onClick="bookNow()" style="cursor: pointer;"><i class="ti-truck"></i> Livraison à domicile</a>
				</div>
				<div class="product-price-rating">
					 <div>
						<del th:text="${product.upPrice}"> </del>
					</div> 
					<span th:text="${product.price}"> </span>
				</div>
				<div class="product-colors mt-20">
					<label>	Quantité disponible:</label>
					<span th:text="${product.quantity}"></span>
					
				</div>
				 <div class="product-quantity mt-15">
					<label>Livraison:</label>
					<span th:text="${product.deliveryPrice}"></span>
				</div> 
				<div class="add-to-get mt-2">
					<a  onClick="bookNow()" style="cursor: pointer;"  class="btn btn-success">
					   <span style="color: white;">
						  <i class="fa fa-shopping-cart" 
						   ></i>
							Acheter maintenant										    
					   </span>
					 </a>
				</div>
			</div>
		</div>
	</div>
    <div class="row">
		<h3 style="text-align: center; margin-left: 32%;">Vous pouvez aussi aimer ces produits</h3>
	</div>
	<div th:if="${productExist==true}" class="tab-content">
		<div id="shop" class="tab-pane fade in show active">
			<div class="row product-carousel cv-visible">
				<div class="col-lg-12 shopContainer" data-th-each="product : ${productList}">
					<div th:if="${product.galery !=null  and product.galery.image1 !='' and product.galery.image2 !='' and product.galery.image3 !='' and product.galery.image4 !=''}"	
					 class="product-single" style="background-color: white !important;">
						<div class="product-title">
						 
						   <h4 style="font-size: 12px; text-align: center;" th:text="${#strings.abbreviate(product.name,25)}"></h4>                                      
					  
						</div>
					
						<div  class="product-thumb" th:if="${product.category.title =='groupSale'}">
							<a href="#" >
								<img 
							       width="100%" height="150rem"
								   class="img-responsive" style="object-fit: cover;"
								   th:src="@{${awsBucketGroupSale}+${product.galery.id}+'/'+${product.galery.image1}}"  
								   alt="" 
								   th:data-id          = "${product.id}"
								   th:data-name        = "${product.name}"
								   th:data-detail      = "${product.detail}"
								   th:data-upprice     = "${product.upPrice}"
								   th:data-price       = "${product.price}"
								   th:data-quantity    = "${product.quantity}"												            
								   th:data-category    = "${product.category.name}"												       
								   th:data-deliveryprice = "${product.deliveryPrice}"
								   th:data-image1="@{${awsBucketGroupSale}+${product.galery.id}+'/'+${product.galery.image1}}" 
								   th:data-image2="@{${awsBucketGroupSale}+${product.galery.id}+'/'+${product.galery.image2}}" 
								   th:data-image3="@{${awsBucketGroupSale}+${product.galery.id}+'/'+${product.galery.image3}}" 
								   th:data-image4="@{${awsBucketGroupSale}+${product.galery.id}+'/'+${product.galery.image4}}"
								 data-toggle="modal" data-target="#quickViewModal"
								/>
							 </a>
								<div class="downsale"><span th:text="${product.downsale}"></span></div>
									<div class="product-quick-view">
										 <a href="javascript:void(0);"
										   th:data-id          = "${product.id}"													
										   th:data-name        = "${product.name}"
										   th:data-detail      = "${product.detail}"
										   th:data-upprice     = "${product.upPrice}"
										   th:data-price       = "${product.price}"
										   th:data-quantity    = "${product.quantity}"												       												      
										   th:data-category    = "${product.category.name}"
										   th:data-deliveryprice = "${product.deliveryPrice}"												    
										   th:data-image1="@{${awsBucketGroupSale}+${product.galery.id}+'/'+${product.galery.image1}}" 
										   th:data-image2="@{${awsBucketGroupSale}+${product.galery.id}+'/'+${product.galery.image2}}" 
										   th:data-image3="@{${awsBucketGroupSale}+${product.galery.id}+'/'+${product.galery.image3}}" 
										   th:data-image4="@{${awsBucketGroupSale}+${product.galery.id}+'/'+${product.galery.image4}}"
										 data-toggle="modal" data-target="#quickViewModal">Vue rapide</a> 
									</div>
						</div>
					
						<div  class="product-price-rating">
							<div class="pull-left">
								<span th:text="${product.price}+' XOF'"></span><br/>
								<del th:text="${product.upPrice}+ ' XOF'"> </del>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>	
	</div>
	<!-- JS  -->
		<!--footer-area start-->
		<footer th:replace="include/footer"></footer>

		<script th:src="@{/assets/js/vendor/modernizr-3.6.0.min.js}"></script>
			<!-- jquery-3.3.1 version -->
			<script th:src="@{/assets/js/vendor/jquery-3.2.1.min.js}"></script>
			<!-- bootstra.min js -->
			<script th:src="@{/assets/js/bootstrap.min.js}"></script>
			<!-- mmenu js -->
			<script th:src="@{/assets/js/jquery.mmenu.js}"></script>
			<!-- easing js -->
			<script th:src="@{/assets/js/jquery.easing.min.js}"></script>
			<!---slick-js-->
			<script th:src="@{/assets/js/slick.min.js}"></script>
			<!---letteranimation-js-->
			<script th:src="@{/assets/js/letteranimation.min.js}"></script>
			<!-- jquery-ui js -->
			<script th:src="@{/assets/js/jquery-ui.min.js}"></script>
			<!-- jquery.countdown js -->
			<script th:src="@{/assets/js/jquery.countdown.min.js}"></script>
			<!-- venobox js -->
			<script th:src="@{/assets/js/venobox.min.js}"></script>
			<!-- plugins js -->
			<script th:src="@{/assets/js/plugins.js}"></script>
			<!-- main js -->
			<script th:src="@{/assets/js/main.js}"></script>	
			<script type="text/javascript">
				function changeImage(a){
					var idImage    = a.id;
					var image = a.src;
				
					$.ajax({
						type: "GET",
						contentType: "application/json",
						url: '/product/changeImage?image='+image,
						data: {},
						dataType: 'json',
						cache: false,
						timeout: 600000,
						success: function (data) {
							$(".changeImage #image1").attr("src",data.brand);    
						},
						error: function (e) {
							console.log("ERROR : ", e);
						}
					});
				 } 
				</script>
				<script type="text/javascript">
				   function companyImage(a){  
					 var image = a.src;
					 $.ajax({
							type: "GET",
							contentType: "application/json",
							url: '/company/companyImage?image='+image,
							data: {},
							dataType: 'json',
							cache: false,
							timeout: 600000,
							success: function (data) {
							 window.location.href = data.name+'company/info/'+data.id;
							},
							error: function (e) {
								console.log("ERROR : ", e);
							}
						});
					}  
				</script> 
					<div class="modal fade quickViewModal" id="quickViewModal" tabindex="-1" role="dialog" aria-hidden="true">
						<div class="modal-dialog modal-dialog-centered" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="modal-body">
									<div class="row">
										<div class="col-lg-4">
											<div class="tab-content">
												<div id="product-1" class="tab-pane fade in show active">
													<div class="product-details-thumb">
														<img id="image1" alt="" style="object-fit: cover;"
														 onClick="changeImage(this)" />
													</div>
												</div>
											</div>
											<ul class="nav nav-tabs products-nav-tabs horizontal quick-view mt-10" >
												<li><a data-toggle="tab">
														<img id="image2" style="object-fit: cover;"
														   alt=""  onClick="changeImage(this)"
														/>
													  </a>
												</li>
												<li>
												   <a data-toggle="tab" href="#product-3">
													 <img id="image3" alt="" style="object-fit: cover;"
													  onClick="changeImage(this)" />
												   </a>
												</li>
												<li>
												   <a data-toggle="tab" href="#product-4">
													 <img id="image4" alt="" style="object-fit: cover;"
													 onClick="changeImage(this)"/>
												   </a>
												</li>
											</ul>
										</div>
										<div class="col-lg-8">
											<div class="row">
												<div class="col-lg-8">
													<div class="product-details-desc">
													   <h2 id="name"></h2>
														<ul id="detail">
														   <li></li>
														</ul>
														<div class="product-meta">
															<ul class="list-none">
				<!-- 												<li>SKU: 00012 <span>|</span></li>
				 -->												<li>Categorie:
																	<a href="#" id="category"></a>
																<!-- 	<a href="#">Macbook</a>
																	<a href="#">Laptop</a> -->
				<!-- 													<span>|</span>
				 -->												</li>
																 <!-- <li>Tag:
																	<a href="#" id="subcategory"></a>
				 													<a href="#">Apple</a>
				 												</li>  -->
															</ul>
														</div>
												<!-- 		<div class="social-icons style-5">
															<span>Partager sur:</span>
															<a href="#"><i class="fa fa-facebook"></i></a>
															<a href="#"><i class="fa fa-twitter"></i></a>
															<a href="#"><i class="fa fa-google-plus"></i></a>
															<a href="#"><i class="fa fa-rss"></i></a>
														</div> -->
														<div class="social-icons style-5" style="cursor: pointer;">
														  <span>Compagnie:</span>
															  <span>
															  <img
																 th:src="@{${awsBucketIcon}+'logo.png'}" style="object-fit: cover;"
															   width="30%;" alt=""  onClick="companyImage(this)">
														  </span>                                        
														</div> 
													</div>
												</div>
												<div class="col-lg-4">
													<div class="product-action stuck text-left">
														<div class="home-delivery">
															<a  onClick="bookNow()" style="cursor: pointer;"><i class="ti-truck"></i> Livraison à domicile</a>
														</div>
														<div class="product-price-rating">
															 <div>
																<del id="upprice"> </del>
															</div> 
															<span id="price"> </span>
														<!-- 	<div class="pull-right">
																<i class="fa fa-star"></i>
																<i class="fa fa-star"></i>
																<i class="fa fa-star"></i>
																<i class="fa fa-star"></i>
																<i class="fa fa-star-o"></i>
															</div> -->
														</div>
														<div class="product-colors mt-20">
															<label>	Quantité disponible:</label>
															<span id="quantity"></span>
															
														</div>
														 <div class="product-quantity mt-15">
															<label>Livraison:</label>
															<span id="deliveryprice"></span>
														</div> 
														<div class="add-to-get mt-2">
															<a  onClick="bookNow()" style="cursor: pointer;"  class="btn btn-success">
															   <span style="color: white;">
																  <i class="fa fa-shopping-cart" 
																   ></i>
																	Acheter maintenant										    
															   </span>
															 </a>
														 </div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				
		</body>
		</html>