<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1000/xhtml">
<head th:replace="common/headerDashboard :: common-header" />

<body>
	<div th:replace="common/headerDashboard :: navbar"></div>
	<div class="container">
		<div class="row">
			<form class="form-horizontal" th:action="@{/category/update}" method="post"
				>
				<fieldset>
					<legend class="center-block">
						Editer la categorie <span style="font-size: small"></span>
					</legend>
					<input hidden="hidden" name="id" th:value="${category.id}" />
					
						
					<!-- description -->
					<div class="form-group">
						<label class="col-md-2 control-label">* Nom:</label>
						<div class="col-md-8">
							<input name="name" class="form-control" 
							    th:value="${category.name}" 
								placeholder="Nom">
							<span class="help-block">Nom</span>
						</div>
					</div>
					<!-- description -->
					<div class="form-group">
						<label class="col-md-2 control-label">* Description</label>
						<div class="col-md-8">
							<textarea name="description" rows="5" class="form-control" 
							    th:value="${category.description}" th:text="${category.description}" 
								placeholder="Description:"></textarea>
							<span class="help-block">Description</span>
						</div>
					</div>
				
				<!-- 	End Contacts -->
					<div class="form-group">
						<div class="col-md-2"></div>
						<div class="col-md-8">
							<button type="submit" class="btn btn-success">Valider</button>
							<a class="btn btn-danger" th:href="@{/}">Annuler</a>
						</div>
					</div>
				</fieldset>
			</form>
		</div>
	</div>
	<div th:replace="common/headerDashboard :: body-bottom-scripts"></div>
	<script type="text/javascript">
		$(document).ready(function() {
		   /* 	
			$('#mainImage').change(function(){
				showImageThumbnail(this);
			}); */ 
			
			$("input[name='extraImageFile']").each(function(index){
				$(this).change(function(){
					showExtraImageThumbnail(this,index);
				});
			});
			function showImageThumbnail(fileInput){
				file = fileInput.files[0];
				reader = new FileReader();
				
				reader.onload = function(e){
					$('#thumbnail').attr('src',e.target.result);
				}
				reader.readAsDataURL(file);
			}
			
			function showExtraImageThumbnail(fileInput,index){
				file = fileInput.files[0];
				reader = new FileReader();
				
				reader.onload = function(e){
					$('#thumbnail'+index).attr('src',e.target.result);
				}
				reader.readAsDataURL(file);
			}
			
		})
	</script>
</body>
</html>
