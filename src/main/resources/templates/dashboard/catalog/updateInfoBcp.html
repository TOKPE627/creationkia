<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1000/xhtml">
<head th:replace="common/headerDashboard :: common-header" />

<body>
	<div th:replace="common/headerDashboard :: navbar"></div>
	<div class="container">
		<div class="row">
			<form class="form-horizontal" th:action="@{/catalog/updateCatalog}" method="post"
				enctype="multipart/form-data">
				<fieldset>
					<legend class="center-block">
						<span>Editer le catalogue</span>
					</legend>
					<input hidden="hidden" name="id" th:value="${catalog.id}" />
		           
		           <!-- update Phot -->
				
					           	<!-- upload location 2 Far View -->
				    <div class="form-group row">
						<label class="col-md-2 control-label">Changer la photo</label>
	                    <div class="col-md-10">
	                        <div class="col-xs-5">       
	                            <input type="file"
	                                name="extraImageFile" accept="image/png, image/jpeg" /> 
	                             <img class="img-responsive" style="height: 350px;width: 100%;"
								           th:src="@{${catalog.imagePath}}" /> 
	                         </div>
	                         <div class="col-xs-5" style="margin-top: 3rem;">
	                            <img style="height: 350px;width: 100%;" alt="Visualiser la photo" id="thumbnail0"/>
                              </div>
                         </div>
				    </div>	
					<div class="form-group">
						<label class="col-md-2 control-label" for="name">
							Nom</label>
						<div class="col-md-8">
							<input
								   type="text" name="name" th:value="${catalog.name}"
									class="form-control" id="name" placeholder="Precisier le nom" />
							<span class="help-block">Nom</span>
						</div>
					</div>

                    <!--End Upload --->
              
					<div class="form-group">
						<label class="col-md-2 control-label"> Prix</label>
						<div class="col-md-8">
							<input
									type="number" name="price" th:value="${catalog.price}"
									class="form-control" id="price" placeholder="Precisier le prix" />
							<span class="help-block">Prix</span>
						</div>
					</div>
					<div class="form-group">
						<label class="col-md-2 control-label" for="district"> Details</label>
						<div class="col-md-8">
							<input
									type="text" name="detail" th:value="${catalog.detail}"
									class="form-control" id="detail" placeholder="Precisier les details" />
							<span class="help-block">Details</span>
						</div>
					</div>
					<div class="form-group">
						<div class="col-md-2"></div>
						<div class="col-md-8">
							<button type="submit" class="btn btn-success">Valider</button>
							<a class="btn btn-danger" th:href="@{/}">Annuler</a>
						</div>
					</div>
				</fieldset>
			</form>
		</div>
	</div>
	<div th:replace="common/headerDashboard :: body-bottom-scripts"></div>
			<script type="text/javascript">
		$(document).ready(function() {	
			$("input[name='extraImageFile']").each(function(index){
				$(this).change(function(){
					showExtraImageThumbnail(this,index);
				});
			});		
			function showExtraImageThumbnail(fileInput,index){
				file = fileInput.files[0];
				reader = new FileReader();
				
				reader.onload = function(e){
					$('#thumbnail'+index).attr('src',e.target.result);
				}
				reader.readAsDataURL(file);
			}
			
		})
	</script>
</body>
</html>
